%%*** bibtool3.tex ************************************************************
%%
%% This file is part of BibTool.
%% It is distributed under the Creative Commons Attribution-Share
%% Alike 3.0 License.
%%
%% (c) 1995-2016 Gerd Neugebauer
%%
%% Net: gene@gerd-neugebauer.de
%%
%%-----------------------------------------------------------------------------
%% Usage:  latex     bibtool
%%         bibtex    bibtool
%%         latex     bibtool
%%         makeindex -s bibtool.ist bibtool
%%         latex     bibtool
%%*****************************************************************************

\documentclass[11pt,a4paper]{scrbook}

\usepackage{bibtool-doc}

%\input{config.tex}
\newcommand\Version{3}

\hypersetup{pdftitle={BibTool Manual}}
\hypersetup{pdfauthor={Gerd Neugebauer}}
\hypersetup{pdfsubject={Version \Version}}

\makeindex

\DeclareFontShape{OT1}{cmss}{m}{it}{<-> ssub * cmss/m/sl}{}

\definecolor{keyword}{rgb}{0,.5,0}
\definecolor{bibtex-bg}{rgb}{0.9607843137,0.9019607843,0.8235294118}
\usepackage{listings}
\lstdefinelanguage{BibTeX}{sensitive=false,
  basicstyle=\footnotesize\ttfamily,
  keywordstyle=\bfseries\color{keyword},
  keywords={@string,@article,@book,@misc,@proceedings,@manual,@modify,@alias,@include},
  backgroundcolor=\color{bibtex-bg},
  frame=single,
  framerule=0pt}
\lstdefinelanguage{BibTool}{sensitive=false,
  basicstyle=\scriptsize\ttfamily,
  keywordstyle=\bfseries\color{keyword},
  backgroundcolor=\color{rsc-bg},
  frame=single,
  framerule=0pt}

\makeatletter%>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

\newcommand\opt[1]{\texttt{-{}#1}\index{#1@{\tt-{}#1}}}

\definecolor{sh-bg}{rgb}{.9,.9,.9}
\definecolor{sh-border}{rgb}{.4,.4,.4}

\newcommand\sh{\smallskip\par\hspace*{2em}\@ifnextchar[{\sh@}{\sh@@}}
\def\sh@[#1]#2{%
  \fcolorbox{sh-border}{sh-bg}{\hspace*{1em}\begin{minipage}{.85\textwidth}
      \texttt{bibtool -{}#1 }\textit{#2}\index{#1@{\tt-{}#1}}
    \end{minipage}}\smallskip\par\noindent\ignorespaces}
\newcommand\sh@@[1]{%
  \fcolorbox{sh-border}{sh-bg}{\hspace*{1em}\begin{minipage}{.85\textwidth}
      \texttt{bibtool }\textit{#1}
    \end{minipage}}\smallskip\par\noindent\ignorespaces}

\makeatother%<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

\newcommand\rsc[1]{\textsf{#1}\index{#1@\textsf{#1}}}
\newcommand\rscEqBraces[2]{\rsc{#1} = \(\{\)#2\(\}\)}
\newcommand\rscBraces[2]{\rsc{#1} \(\{\)#2\(\}\)}
\newcommand\rscIt[1]{\textsf{\textit{#1}}}
\newcommand\env[1]{\texttt{#1}\index{#1@{\tt #1}}}

\definecolor{rsc-bg}{rgb}{.9,1,.9}
\definecolor{rsc-border}{rgb}{.4,.6,.4}
\newbox\rscbox
\newenvironment{Resources}%
  {\setbox\rscbox=\hbox\bgroup\hspace*{.06\textwidth}\begin{minipage}{.88\textwidth}\sf\obeylines\obeyspaces
  }{\end{minipage}\egroup\vspace{1.5ex}%
    \fcolorbox{rsc-border}{rsc-bg}{\usebox\rscbox}%
    \medskip\par
  }

\newcommand\code[1]{\texttt{#1}}
\newcommand\file[1]{\textsf{#1}}

\newcommand\off{\textsf{off}}
\newcommand\on{\textsf{on}}

\newcommand\bs{\texttt{\symbol{"5C}}\ignorespaces}
\newcommand\BS{\(\backslash\)}
\newcommand\Hat{\^{}}

\newfont\cminch{cminch}
\ifx\chaptername\relax\else
\renewcommand\chaptername{\cminch}
\renewcommand\appendixname{\cminch}
\fi

\newcommand\rfill[1]{\leaders\hrule height #1\hfill}

\newenvironment{Summary}{\subsection*{Summary}
  \begin{center}\small
    \begin{tabular}{p{.08\textwidth}p{.35\textwidth}p{.48\textwidth}}
      \toprule
      \textit{\scriptsize Option}&
      \textit{\scriptsize Resource command}&
      \textit{\scriptsize Description}\\
      \midrule
}{\bottomrule\end{tabular}\end{center}}

\newcommand\Desc[3]{\textit{#1}&\textit{#2}&#3\\\hline}

\newenvironment{Example}{\smallskip\par\textit{Example}\par}{\smallskip\par}

\newenvironment{Disclaimer}{\begin{center}\sf\tiny --- }{ ---\end{center}}

\newcommand\LINK[2]{\texttt{#2}}
\newcommand\Link[2]{\href{#1}{\texttt{#2}}}
\newcommand\email[1]{\href{mailto:#1}{\texttt{#1}}}

\newcommand\FTP[2]{\texttt{#1}}

\newcommand\ASCII{\textsc{ascii}}

\begin{document} %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{The \BibTool3 Configuration Language}

\section{Strings}

Strings are enclosed in double quotes. They may contain arbitrary characters.

\begin{lstlisting}[language=BibTool]
""
\end{lstlisting}

\begin{lstlisting}[language=BibTool]
"a b c"
\end{lstlisting}

The backslash (\verb|\|)acts as escape character.
\begin{description}
\item [\BS\BS] \ \\The doubled backslash is stored as single backslash
  internally.
\item [\BS "] \ \\The delimiting character \verb|"| can be included in a
  string by preceeding it with a backslash.
\item [\BS n] \ \\The newline character can be included in a string as the
  sequence \verb|\n|
\item [\BS r] \ \\The carrige return character can be included in a string as
  the sequence \verb|\r|
\item [\BS b] \ \\The backspace character can be included in a string as the
  sequence \verb|\b|
\item [\BS f] \ \\The formfeed character can be included in a string as the
  sequence \verb|\n|
\end{description}


\subsection{String method \texttt{as.boolean()}}

The string method \texttt{as.boolean()} converts the string into a boolean
value. It is true if the string is not empty and false otherwise. This method
takes no arguments.

\begin{lstlisting}[language=BibTool]
"123":as.boolean()
\end{lstlisting}

\subsection{String method \texttt{as.boolean()}}

The string method \texttt{as.boolean()} converts the string into a boolean
value. The value true is returned if the string is not empty, otherwise false.
This method takes no arguments.

\begin{lstlisting}[language=BibTool]
"123":as.boolean()
\end{lstlisting}

\subsection{String method \texttt{as.string()}}

The string method \texttt{as.string()} converts the string into a string
value. This is the string itself. This method is provided for consistency.
This method takes no arguments.

\begin{lstlisting}[language=BibTool]
"123":as.string()
\end{lstlisting}

\subsection{String method \texttt{as.number()}}

The string method \texttt{as.number()} converts the string into a number
value. The string is scanned and the first sequence consisting of digits
optionally preceeded by a minus sign are returned as number. If no number is
found then 0 is returned. This method takes no arguments.

\begin{lstlisting}[language=BibTool]
"abc 123 def ":as.number()
\end{lstlisting}

\subsection{String method \texttt{class()}}

The string method \texttt{class()} returns the class object for strings. This
method takes no arguments. More on classes can be found in
section~\ref{sec:classes}.

\begin{lstlisting}[language=BibTool]
"123, 456":class()
\end{lstlisting}

\subsection{String method \texttt{concat()}}

The string method \texttt{concat()} concatenates its arguments to the end of
the current string and returns the new string as result.
This method takes arbitrarily many arguments.

\begin{lstlisting}[language=BibTool]
"123":concat("a b c")
\end{lstlisting}

\subsection{String method \texttt{length()}}

The string method \texttt{length()} returns the number of characters contained
in the string. This method takes no arguments.

\begin{lstlisting}[language=BibTool]
"123 456":length()
\end{lstlisting}

%TODO

\subsection{Iterating over Strings}

%TODO

\section{Numbers}

Numbers are decimal numbers made up of digits and an optional minus prefix.


\begin{lstlisting}[language=BibTool]
123
\end{lstlisting}


\begin{lstlisting}[language=BibTool]
-987
\end{lstlisting}

%TODO


\subsection{Number method \texttt{class()}}

The number method \texttt{class()} returns the class object for numbers. This
method takes no arguments. More on classes can be found in
section~\ref{sec:classes}.

\begin{lstlisting}[language=BibTool]
456:class()
\end{lstlisting}

%TODO

\section{Lists}

Lists are denoted by values enclosed in brackets and separated by commas.
Thus the empty list is denoted by empty brackets:

\begin{lstlisting}[language=BibTool]
[]
\end{lstlisting}

A single element list can be seen in the following example:

\begin{lstlisting}[language=BibTool]
[123]
\end{lstlisting}

\begin{lstlisting}[language=BibTool]
[123, 456]
\end{lstlisting}

\subsection{List method \texttt{as.boolean()}}

The list method \texttt{as.boolean()} converts the list into a boolean value.
It is true if the list is not empty and false otherwise. This method takes no
arguments.

\begin{lstlisting}[language=BibTool]
[123, 456]:as boolean()
\end{lstlisting}

\subsection{List method \texttt{as.number()}}

The list method \texttt{as.number()} converts the list into a numeric value.
The value is the length of the list. This method takes no arguments.

\begin{lstlisting}[language=BibTool]
[123, 456]:as.number()
\end{lstlisting}

\subsection{List method \texttt{as.string()}}

The list method \texttt{as.number()} converts the list into a string value.
The value is the printable representation of the list. This method takes no
arguments.

\begin{lstlisting}[language=BibTool]
[123, 456]:as.string()
\end{lstlisting}

\subsection{List method \texttt{car()}}

The list method \texttt{car()} returns the first element of the list. If the
list is empty then the empty list is returned. This method takes no arguments.

\begin{lstlisting}[language=BibTool]
[123, 456]:car()
\end{lstlisting}

\subsection{List method \texttt{cdr()}}

The list method \texttt{cdr()} returns the list excluding the first element.
If the list is empty then the empty list is returned. This method takes no
arguments.

\begin{lstlisting}[language=BibTool]
[123, 456]:cdr()
\end{lstlisting}

\subsection{List method \texttt{class()}}

The list method \texttt{class()} returns the class object for lists. This
method takes no arguments. More on classes can be found in
section~\ref{sec:classes}.

\begin{lstlisting}[language=BibTool]
[123, 456]:class()
\end{lstlisting}

\subsection{List method \texttt{empty()}}

The list method \texttt{empty()} returns the boolean value true if the list is
empty and false otherwise. This method takes no arguments.

\begin{lstlisting}[language=BibTool]
[123, 456]:empty()
\end{lstlisting}

\subsection{List method \texttt{join()}}

The list method \texttt{join()}
% TODO

\begin{lstlisting}[language=BibTool]
[123, 456]:join([9,8,7])
\end{lstlisting}

\subsection{List method \texttt{length()}}

The list method \texttt{length()} returns the number of elements contained in
the list. This method takes no arguments.

\begin{lstlisting}[language=BibTool]
[123, 456]:length()
\end{lstlisting}

\subsection{Iterating over Lists}

%TODO

\section{Functions}

%TODO


\section{Classes}\label{sec:classes}

%TODO


\subsection{Class method \texttt{class()}}

The class method \texttt{class()} returns the class object for classes. This
method takes no arguments.

\begin{lstlisting}[language=BibTool]
"123, 456":class():class()
\end{lstlisting}


\section{Databases}

%TODO


\section{Entries}

%TODO



\end{document} %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Local Variables:
% mode: latex
% TeX-master: nil
% fill-column: 78
% End:
